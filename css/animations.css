/* animations.css */
/* ======================================
   VMQ ANIMATIONS v3.0.4 (Drop-in replacement)
   Purpose:
   - Centralize animation keyframes + utility classes used across VMQ
   - Keep naming stable + “fail-safe” if modules reference common animation names
   - Respect prefers-reduced-motion (non-breaking)
   Notes:
   - base.css already defines several keyframes (spin, pulse, shimmer, scaleIn, slideUp, pulse-glow).
     This file re-declares a superset safely (duplicate @keyframes is OK; last one wins).
   - Does NOT require any HTML changes.
   ====================================== */

/* ------------------------------------------------------
   1) Core keyframes (safe duplicates / superset)
   ------------------------------------------------------ */
@keyframes spin { to { transform: rotate(360deg); } }

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0.7; }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 0 0 rgb(var(--primary-rgb, 59 130 246) / 0.4); }
  50%      { box-shadow: 0 0 0 12px rgb(var(--primary-rgb, 59 130 246) / 0); }
}

@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.96); }
  to   { opacity: 1; transform: scale(1); }
}

@keyframes scaleOut {
  from { opacity: 1; transform: scale(1); }
  to   { opacity: 0; transform: scale(0.98); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to   { opacity: 0; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(18px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-14px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes slideLeft {
  from { opacity: 0; transform: translateX(18px); }
  to   { opacity: 1; transform: translateX(0); }
}

@keyframes slideRight {
  from { opacity: 0; transform: translateX(-18px); }
  to   { opacity: 1; transform: translateX(0); }
}

/* Nice for “wrong answer” feedback / errors */
@keyframes shakeX {
  0%, 100% { transform: translateX(0); }
  15%      { transform: translateX(-8px); }
  30%      { transform: translateX(7px); }
  45%      { transform: translateX(-6px); }
  60%      { transform: translateX(5px); }
  75%      { transform: translateX(-4px); }
}

/* Gentle attention grab */
@keyframes bob {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-6px); }
}

/* “Success” pop */
@keyframes pop {
  0%   { transform: scale(0.92); opacity: 0; }
  60%  { transform: scale(1.03); opacity: 1; }
  100% { transform: scale(1); }
}

/* ------------------------------------------------------
   2) Animation utility classes (opt-in)
   ------------------------------------------------------ */

/* Entrance helpers */
.animate-fade-in      { animation: fadeIn var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.animate-slide-up     { animation: slideUp var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.animate-slide-down   { animation: slideDown var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.animate-slide-left   { animation: slideLeft var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.animate-slide-right  { animation: slideRight var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.animate-scale-in     { animation: scaleIn var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.animate-pop          { animation: pop 320ms var(--motion-easing, ease) both; }

/* Exit helpers (use when modules toggle a class before removing elements) */
.animate-fade-out     { animation: fadeOut var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.animate-scale-out    { animation: scaleOut var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }

/* Feedback */
.animate-shake        { animation: shakeX 420ms var(--motion-easing, ease) both; }
.animate-bob          { animation: bob 1.6s var(--motion-easing, ease) infinite; }
.animate-pulse        { animation: pulse 1.8s var(--motion-easing, ease) infinite; }
.animate-pulse-glow   { animation: pulse-glow 2.2s var(--motion-easing, ease) infinite; }
.animate-spin         { animation: spin 0.9s linear infinite; }

/* Skeleton shimmer (works with your base shimmer gradient too) */
.animate-shimmer {
  background-size: 200% 100%;
  animation: shimmer 1.5s linear infinite;
}

/* Stagger helpers (nice for answer grids / lists) */
.delay-1 { animation-delay: 50ms !important; }
.delay-2 { animation-delay: 100ms !important; }
.delay-3 { animation-delay: 150ms !important; }
.delay-4 { animation-delay: 200ms !important; }
.delay-5 { animation-delay: 250ms !important; }

/* Duration helpers */
.duration-fast { animation-duration: 150ms !important; }
.duration-slow { animation-duration: 500ms !important; }

/* ------------------------------------------------------
   3) Common VMQ UI patterns (safe, optional)
   ------------------------------------------------------ */

/* Modal/overlay “standard” (modules can reuse these classes if they exist) */
.vmq-overlay {
  position: fixed;
  inset: 0;
  background: rgb(0 0 0 / 0.55);
  backdrop-filter: blur(10px);
  z-index: var(--z-modal, 1000);
  display: grid;
  place-items: center;
  padding: clamp(12px, 2.5vw, 24px);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--motion-duration-base, 250ms) var(--motion-easing, ease);
}

.vmq-overlay.active {
  opacity: 1;
  pointer-events: auto;
}

.vmq-modal {
  width: min(720px, 96vw);
  background: var(--card, #fff);
  border: 1px solid var(--border, #e2e8f0);
  border-radius: var(--radius-lg, 16px);
  box-shadow: var(--shadow-xl, 0 25px 50px -12px rgb(0 0 0 / 0.25));
  transform: translateY(18px) scale(0.98);
  opacity: 0;
  animation: slideUp var(--motion-duration-base, 250ms) var(--motion-easing, ease) both;
}

.vmq-overlay.active .vmq-modal {
  opacity: 1;
}

/* Route / view transition helper (if any module toggles .vmq-view-enter) */
.vmq-view-enter { animation: fadeIn var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }
.vmq-view-exit  { animation: fadeOut var(--motion-duration-base, 250ms) var(--motion-easing, ease) both; }

/* ------------------------------------------------------
   4) Reduced motion (respect OS/user preference)
   ------------------------------------------------------ */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-slide-up,
  .animate-slide-down,
  .animate-slide-left,
  .animate-slide-right,
  .animate-scale-in,
  .animate-pop,
  .animate-fade-out,
  .animate-scale-out,
  .animate-shake,
  .animate-bob,
  .animate-pulse,
  .animate-pulse-glow,
  .animate-spin,
  .animate-shimmer,
  .vmq-view-enter,
  .vmq-view-exit,
  .vmq-modal {
    animation: none !important;
    transition: none !important;
  }
}